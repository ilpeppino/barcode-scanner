version: "3.8"

services:
  barcode:
    build: .
    container_name: barcode-scanner
    restart: unless-stopped
    environment:
      - PORT=5000
      - FLASK_SECRET=${FLASK_SECRET}
      - INGEST_PASSWORD=${INGEST_PASSWORD}
      - TASKLIST_TITLE=${TASKLIST_TITLE}
    volumes:
      - ./templates:/app/templates:ro
      - ./static:/app/static:ro
      - ./credentials.json:/app/credentials.json:ro
      - ./token.json:/app/token.json
      - ./.env:/app/.env
    ports:
      - "5000:5000"
